{"ast":null,"code":"var _jsxFileName = \"/Users/jgaethan/Documents/SPRING-2025/Introduction-Software-Engineering/Quiz-App/SENG2513/client/src/pages/QuizGenerator.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router-dom';\nconst QuizGenerator = () => {\n  const {\n    type\n  } = useParams();\n  const quizType = type;\n  const [topic, setTopic] = useState('');\n  const [numberOfQuestions, setNumberOfQuestions] = useState(5);\n  const [difficulty, setDifficulty] = useState('medium');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [quizData, setQuizData] = useState(null);\n  const navigate = useNavigate();\n  const [categories, setCategories] = useState([]);\n  //const [selectedCategory, setSelectedCategory] = useState(\"\");\n\n  // Debug: Log the quiz type when component loads\n  useEffect(() => {\n    console.log(\"QuizGenerator loaded with type:\", quizType);\n  }, [quizType]);\n  useEffect(() => {\n    const saveQuizAndNavigate = async () => {\n      if (quizData && quizData.length > 0) {\n        try {\n          // Create the quiz\n          const response = await axios.post('https://localhost:3001/api/quiz/create', {\n            title: topic\n          });\n          const quizID = response.data.quizID;\n          console.log(\"Quiz created ID: \", quizID);\n\n          // Save all questions\n          const savedQuestions = await axios.post('https://localhost:3001/api/quiz/save-questions', {\n            quizID,\n            title: topic,\n            questions: quizData,\n            difficulty\n          });\n          const questionID = savedQuestions.data.questionID;\n          console.log(\"Question ID: \", questionID);\n          navigate('/take-quiz', {\n            state: {\n              questions: quizData,\n              topic,\n              difficulty,\n              quizID,\n              type\n            }\n          });\n        } catch (error) {\n          console.error(\"Failed to save quiz:\", error);\n          alert(\"There was an error saving the quiz. Please try again.\");\n        }\n      }\n    };\n    saveQuizAndNavigate();\n  }, [quizData, navigate, topic, difficulty, type]);\n  useEffect(() => {\n    // Fetch the categories from Open Trivia DB API\n    const fetchCategories = async () => {\n      try {\n        const response = await axios.get(\"https://opentdb.com/api_category.php\");\n        setCategories(response.data.trivia_categories);\n      } catch (error) {\n        console.error(\"Error fetching categories:\", error);\n        setError(\"Failed to load categories.\");\n      }\n    };\n    fetchCategories();\n  }, []);\n  const handleGenerateQuiz = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(null);\n    console.log(`Generating ${quizType} quiz with:`, {\n      topic,\n      numberOfQuestions,\n      difficulty\n    });\n    try {\n      let response;\n      if (quizType === 'ai') {\n        response = await axios.post(`https://localhost:3001/api/ai-quiz/generate`, {\n          topic,\n          numberOfQuestions,\n          difficulty\n        });\n        console.log(\"AI quiz response:\", response.data);\n        if (response.data.success) {\n          setQuizData(response.data.questions);\n        } else {\n          setError('Failed to generate quiz questions.');\n        }\n      } else if (quizType === 'trivia') {\n        //console.log(\"Making trivia quiz request to:\", `${API_BASE}/api/trivia`);\n        response = await axios.post(`https://localhost:3001/api/trivia-quiz/generate`, {\n          category: topic,\n          numberOfQuestions,\n          difficulty\n        });\n        console.log(\"Trivia quiz response:\", response.data);\n        if (response.data && response.data.questions) {\n          setQuizData(response.data.questions);\n          console.log(\"Trivia questions:\", response.data.questions);\n        } else {\n          setError('Failed to generate trivia questions.');\n        }\n      } else {\n        setError(`Unknown quiz type: ${quizType}`);\n      }\n    } catch (err) {\n      console.error('Error generating quiz:', err);\n      // Show more detailed error information\n      if (err.response) {\n        console.error('Error response data:', err.response.data);\n        console.error('Error response status:', err.response.status);\n        setError(`Server error: ${err.response.status} - ${err.response.data.error || 'Unknown error'}`);\n      } else if (err.request) {\n        console.error('Error request:', err.request);\n        setError('No response received from server. Please check your connection.');\n      } else {\n        console.error('Error message:', err.message);\n        setError(`Error: ${err.message}`);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container text-white p-4 rounded-4\",\n    style: {\n      backgroundColor: \"#1a1a1a\",\n      maxWidth: \"500px\",\n      // Limit the maximum width\n      minHeight: \"50vh\",\n      // Reduce minimum height from 70vh\n      marginTop: \"4rem\",\n      marginBottom: \"3rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      color: \"#4da6ff\",\n      // Bright blue for attention\n      fontWeight: \"600\",\n      textShadow: \"0px 0px 10px rgba(77, 166, 255, 0.3)\" // Subtle glow effect\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, \"Ready to Challenge Yourself?\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"#cccccc\",\n      // Slightly lighter than white for contrast\n      fontSize: \"1.1rem\",\n      letterSpacing: \"0.5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, \"Choose a topic, set your difficulty, and we'll generate questions just for you!\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-container bg-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleGenerateQuiz,\n    className: \"p-3 rounded-lg m-4 shadow-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, type === 'ai' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"topic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 23\n    }\n  }, \"What do you want to get tested on?\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"topic\",\n    value: topic,\n    onChange: e => setTopic(e.target.value),\n    placeholder: \"e.g., Artificial Intelligence\",\n    required: true,\n    className: \"form-control bg-black text-white border-bottom-0 border-white\",\n    style: {\n      boxShadow: 'none',\n      WebkitBoxShadow: '0 0 0 1000px black inset',\n      WebkitTextFillColor: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  })), type === 'trivia' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 23\n    }\n  }, \"Select a Trivia Category:\"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"category\",\n    value: topic,\n    onChange: e => setTopic(e.target.value),\n    className: \"form-control bg-black text-white border-bottom-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 27\n    }\n  }, \"Select a category\"), categories.map(category => /*#__PURE__*/React.createElement(\"option\", {\n    key: category.id,\n    value: category.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 29\n    }\n  }, category.name))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"numQuestions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 19\n    }\n  }, \"Number of Questions:\"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"numQuestions\",\n    value: numberOfQuestions,\n    onChange: e => setNumberOfQuestions(Number(e.target.value)),\n    className: \"form-control bg-black text-white border-bottom-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 21\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 21\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 21\n    }\n  }, \"10\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"difficulty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 19\n    }\n  }, \"Difficulty Level:\"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"difficulty\",\n    value: difficulty,\n    onChange: e => setDifficulty(e.target.value),\n    className: \"form-control bg-black text-white border-bottom-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"easy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 21\n    }\n  }, \"Easy\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 21\n    }\n  }, \"Medium\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"hard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }, \"Hard\"))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    disabled: isLoading,\n    className: \"btn btn-primary transition\",\n    style: {\n      transformOrigin: 'center'\n    },\n    onMouseOver: e => e.target.style.transform = 'scale(1.05)',\n    onMouseOut: e => e.target.style.transform = 'scale(1)',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 17\n    }\n  }, isLoading ? 'Generating...' : 'Generate Quiz')), error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-danger mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 25\n    }\n  }, error)))));\n};\nexport default QuizGenerator;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","useParams","QuizGenerator","type","quizType","topic","setTopic","numberOfQuestions","setNumberOfQuestions","difficulty","setDifficulty","isLoading","setIsLoading","error","setError","quizData","setQuizData","navigate","categories","setCategories","console","log","saveQuizAndNavigate","length","response","post","title","quizID","data","savedQuestions","questions","questionID","state","alert","fetchCategories","get","trivia_categories","handleGenerateQuiz","e","preventDefault","success","category","err","status","request","message","createElement","className","style","backgroundColor","maxWidth","minHeight","marginTop","marginBottom","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","color","fontWeight","textShadow","fontSize","letterSpacing","onSubmit","Fragment","htmlFor","id","value","onChange","target","placeholder","required","boxShadow","WebkitBoxShadow","WebkitTextFillColor","map","key","name","Number","disabled","transformOrigin","onMouseOver","transform","onMouseOut"],"sources":["/Users/jgaethan/Documents/SPRING-2025/Introduction-Software-Engineering/Quiz-App/SENG2513/client/src/pages/QuizGenerator.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router-dom';\n\nconst QuizGenerator = () => {\n  const { type } = useParams();\n  const quizType = type;\n\n  const [topic, setTopic] = useState('');\n  const [numberOfQuestions, setNumberOfQuestions] = useState(5);\n  const [difficulty, setDifficulty] = useState('medium');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [quizData, setQuizData] = useState(null);\n  const navigate = useNavigate();\n  const [categories, setCategories] = useState([]);\n  //const [selectedCategory, setSelectedCategory] = useState(\"\");\n  \n  // Debug: Log the quiz type when component loads\n  useEffect(() => {\n    console.log(\"QuizGenerator loaded with type:\", quizType);\n  }, [quizType]);\n\n  useEffect(() => {\n    const saveQuizAndNavigate = async () => {\n      if (quizData && quizData.length > 0) {\n        try {\n          // Create the quiz\n          const response = await axios.post('https://localhost:3001/api/quiz/create', {\n            title: topic,\n          });\n\n          const quizID = response.data.quizID;\n          console.log(\"Quiz created ID: \", quizID);\n\n          // Save all questions\n          const savedQuestions = await axios.post('https://localhost:3001/api/quiz/save-questions', {\n            quizID,\n            title: topic,\n            questions: quizData,\n            difficulty\n          });\n          const questionID = savedQuestions.data.questionID;\n          console.log(\"Question ID: \", questionID);\n  \n          navigate('/take-quiz', {\n            state: {\n              questions: quizData,\n              topic,\n              difficulty,\n              quizID,\n              type,\n            },\n          });\n        } catch (error) {\n          console.error(\"Failed to save quiz:\", error);\n          alert(\"There was an error saving the quiz. Please try again.\");\n        }\n      }\n    };\n\n    saveQuizAndNavigate();\n  }, [quizData, navigate, topic, difficulty, type]);\n\n  useEffect(() => {\n    // Fetch the categories from Open Trivia DB API\n    const fetchCategories = async () => {\n      try {\n        const response = await axios.get(\"https://opentdb.com/api_category.php\");\n        setCategories(response.data.trivia_categories);\n      } catch (error) {\n        console.error(\"Error fetching categories:\", error);\n        setError(\"Failed to load categories.\");\n      }\n    };\n\n    fetchCategories();\n  }, []);\n\n  const handleGenerateQuiz = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(null);\n    \n    console.log(`Generating ${quizType} quiz with:`, { topic, numberOfQuestions, difficulty });\n\n    try {\n      let response;\n\n      if (quizType === 'ai') {\n        response = await axios.post(`https://localhost:3001/api/ai-quiz/generate`, {\n          topic,\n          numberOfQuestions,\n          difficulty\n        });\n\n        console.log(\"AI quiz response:\", response.data);\n        \n        if (response.data.success) {\n          setQuizData(response.data.questions);\n        } else {\n          setError('Failed to generate quiz questions.');\n        }\n      } else if (quizType === 'trivia') {\n        //console.log(\"Making trivia quiz request to:\", `${API_BASE}/api/trivia`);\n        response = await axios.post(`https://localhost:3001/api/trivia-quiz/generate`, {\n          category: topic,\n          numberOfQuestions,\n          difficulty\n        });\n\n        console.log(\"Trivia quiz response:\", response.data);\n        \n        if (response.data && response.data.questions) {\n          setQuizData(response.data.questions);\n          console.log(\"Trivia questions:\", response.data.questions);\n        } else {\n          setError('Failed to generate trivia questions.');\n        }\n      } else {\n        setError(`Unknown quiz type: ${quizType}`);\n      }\n    } catch (err) {\n      console.error('Error generating quiz:', err);\n      // Show more detailed error information\n      if (err.response) {\n        console.error('Error response data:', err.response.data);\n        console.error('Error response status:', err.response.status);\n        setError(`Server error: ${err.response.status} - ${err.response.data.error || 'Unknown error'}`);\n      } else if (err.request) {\n        console.error('Error request:', err.request);\n        setError('No response received from server. Please check your connection.');\n      } else {\n        console.error('Error message:', err.message);\n        setError(`Error: ${err.message}`);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div\n      className=\"container text-white p-4 rounded-4\"\n      style={{ \n        backgroundColor: \"#1a1a1a\", \n        maxWidth: \"500px\",  // Limit the maximum width\n        minHeight: \"50vh\",   // Reduce minimum height from 70vh\n        marginTop: \"4rem\",\n        marginBottom: \"3rem\"\n      }}\n    >\n      <div className=\"row justify-content-center\">\n        <div className=\"col-12\">\n          <div className=\"text-center mb-4\">\n            <h2 style={{\n              color: \"#4da6ff\", // Bright blue for attention\n              fontWeight: \"600\",\n              textShadow: \"0px 0px 10px rgba(77, 166, 255, 0.3)\" // Subtle glow effect\n            }}>\n              Ready to Challenge Yourself?\n            </h2>\n            <p style={{\n              color: \"#cccccc\", // Slightly lighter than white for contrast\n              fontSize: \"1.1rem\",\n              letterSpacing: \"0.5px\"\n            }}>\n              Choose a topic, set your difficulty, and we'll generate questions just for you!\n            </p>\n          </div>\n            <div className=\"form-container bg-dark\">\n              <form onSubmit={handleGenerateQuiz} className=\"p-3 rounded-lg m-4 shadow-md\" >\n                <div className=\"form-group\">\n                  {type === 'ai' && \n                    <>\n                      <label htmlFor=\"topic\">What do you want to get tested on?</label>\n                        <input\n                          type=\"text\"\n                          id=\"topic\"\n                          value={topic}\n                          onChange={(e) => setTopic(e.target.value)}\n                          placeholder=\"e.g., Artificial Intelligence\"\n                          required\n                          className=\"form-control bg-black text-white border-bottom-0 border-white\"\n                          style={{\n                            boxShadow: 'none',\n                            WebkitBoxShadow: '0 0 0 1000px black inset',\n                            WebkitTextFillColor: 'white',\n                          }}\n                        />\n                    </>\n                  }\n                  {type === 'trivia' && \n                    <>\n                      <label htmlFor=\"category\">Select a Trivia Category:</label>\n                        <select\n                          id=\"category\"\n                          value={topic}\n                          onChange={(e) => setTopic(e.target.value)}\n                          className=\"form-control bg-black text-white border-bottom-0\"\n                        >\n                          <option value=\"\">Select a category</option>\n                          {categories.map((category) => (\n                            <option key={category.id} value={category.id}>\n                              {category.name}\n                            </option>\n                          ))}\n                        </select>\n                    </>\n                  }\n                </div>\n                \n                <div className=\"form-group\">\n                  <label htmlFor=\"numQuestions\">Number of Questions:</label>\n                  <select \n                    id=\"numQuestions\" \n                    value={numberOfQuestions}\n                    onChange={(e) => setNumberOfQuestions(Number(e.target.value))}\n                    className=\"form-control bg-black text-white border-bottom-0\"\n                  >\n                    <option value=\"3\">3</option>\n                    <option value=\"5\">5</option>\n                    <option value=\"10\">10</option>\n                  </select>\n                </div>\n            \n                <div className=\"form-group\">\n                  <label htmlFor=\"difficulty\">Difficulty Level:</label>\n                  <select \n                    id=\"difficulty\"\n                    value={difficulty}\n                    onChange={(e) => setDifficulty(e.target.value)}\n                    className=\"form-control bg-black text-white border-bottom-0\"\n                  >\n                    <option value=\"easy\">Easy</option>\n                    <option value=\"medium\">Medium</option>\n                    <option value=\"hard\">Hard</option>\n                  </select>\n                </div>\n            \n                <button \n                  type=\"submit\"\n                  disabled={isLoading}\n                  className=\"btn btn-primary transition\"\n                  style={{transformOrigin: 'center'}}\n                  onMouseOver={ (e) =>  e.target.style.transform = 'scale(1.05)'}\n                  onMouseOut={(e) =>  e.target.style.transform = 'scale(1)'}\n                >\n                  {isLoading ? 'Generating...' : 'Generate Quiz'}\n                </button>\n              </form>\n              {error && <div className=\"alert alert-danger mt-3\">{error}</div>}\n            </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default QuizGenerator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}