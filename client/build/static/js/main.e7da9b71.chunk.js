(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/person-icon-1.f540a12d.png"},27:function(e,t,a){e.exports=a.p+"static/media/quizapp_logo.ab8c8e41.png"},32:function(e,t,a){e.exports=a(51)},39:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),l=a.n(o),s=(a(39),a(6)),c=a(3);var i=e=>{let{title:t,description:a,comment1:n,comment2:o,comment3:l,type:c}=e;const i={marginBottom:"0.5rem",paddingLeft:"1.5rem",position:"relative"},m={backgroundColor:"#007bff",color:"#ffffff",border:"none",borderRadius:"0.25rem",padding:"0.75rem 1rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",width:"100%",textDecoration:"none",display:"block",textAlign:"center",transition:"transform 0.3s ease"},u={...m,backgroundColor:"#28a745"},d="ai"===c?{to:"/quiz-generator/ai",style:m,text:"Use AI Generator"}:{to:"/quiz-generator/trivia",style:u,text:"Use Trivia Database"};return r.a.createElement("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"0.5rem",padding:"1.5rem",maxWidth:"400px",minWidth:"300px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-10px)",e.currentTarget.style.boxShadow="0 10px 20px rgba(0, 0, 0, 0.2)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)"}},r.a.createElement("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#ffffff"}},t),r.a.createElement("p",{style:{color:"rgba(255, 255, 255, 0.75)",marginBottom:"1.5rem"}},a),r.a.createElement("ul",{style:{listStyle:"none",padding:0,marginBottom:"1.5rem",color:"#ffffff"}},r.a.createElement("li",{style:i},r.a.createElement("span",{style:{position:"absolute",left:0}},"\u2713")," ",n),r.a.createElement("li",{style:i},r.a.createElement("span",{style:{position:"absolute",left:0}},"\u2713")," ",o),r.a.createElement("li",{style:i},r.a.createElement("span",{style:{position:"absolute",left:0}},"\u2713")," ",l)),r.a.createElement(s.b,{to:d.to,style:d.style,onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)"},d.text))};var m=()=>{const e="true"===localStorage.getItem("isLogin"),t={fontSize:"1rem",marginBottom:"20px",color:"#f0f0f0",textAlign:"center"};return r.a.createElement("div",{className:"container-fluid justify-content-center",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:"6rem"}},r.a.createElement("h1",{style:{fontSize:"3rem",marginBottom:"10px",color:"#e0ffff",textAlign:"center"}},"Choose Your Quiz Experience"),r.a.createElement("p",{style:t},"Select from our AI-powered quizzes or explore our trivia database"),!e&&r.a.createElement("p",{style:{...t,fontSize:"0.85rem",opacity:.8}},"Sign up or Login to save your quizzes, track progress, and more!"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"2rem",marginTop:"2rem",width:"100%",maxWidth:"1200px"}},r.a.createElement(i,{title:"AI-Generated Quiz",description:"Generate unique quiz questions on any topic using Claude 3.5 Sonnet AI. Perfect for custom topics or specialized knowledge areas.",comment1:"Any topic you can imagine",comment2:"Custom difficulty levels",comment3:"Unique questions every time",type:"ai"}),r.a.createElement(i,{title:"Trivia Database",description:"Use our trivia database with thousands of pre-made questions across various categories and difficulty levels.",comment1:"Multiple categories",comment2:"Three difficulty levels",comment3:"Multiple choice questions",type:"trivia"})),e&&r.a.createElement(r.a.Fragment,null))},u=(a(40),a(16)),d=a(56),p=a(57);var g=e=>{let{onSubmit:t,isLogin:a,email:o,setEmail:l,password:s,setPassword:c,setUserName:i,userName:m,showGoogleButton:g,onGoogleSuccess:b,onGoogleError:f}=e;const[E,h]=Object(n.useState)(!1);return r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("div",{className:"form-container bg-dark"},r.a.createElement("form",{onSubmit:t,className:"p-4 rounded-lg shadow-md"},r.a.createElement("h1",{className:"text-white text-center mb-3"},a?"Login":"Create Account"),!a&&r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"userName"},"User Name:"),r.a.createElement("input",{type:"text",id:"userName",value:m,onChange:e=>i(e.target.value),required:!0,className:"form-control bg-black text-white border-bottom-0 border-white",style:{boxShadow:"none",WebkitBoxShadow:"0 0 0 1000px black inset",WebkitTextFillColor:"white"}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{type:"email",id:"email",value:o,onChange:e=>l(e.target.value),required:!0,className:"form-control bg-black text-white border-bottom-0 border-white",style:{boxShadow:"none",WebkitBoxShadow:"0 0 0 1000px black inset",WebkitTextFillColor:"white"}})),r.a.createElement("div",{className:"form-group position-relative"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("input",{type:E?"text":"password",id:"password",value:s,onChange:e=>c(e.target.value),required:!0,className:"form-control bg-black text-white border-bottom-0 border-white",style:{boxShadow:"none",WebkitBoxShadow:"0 0 0 1000px black inset",WebkitTextFillColor:"white"}}),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-black position-absolute",onClick:()=>h(e=>!e),style:{top:"30px",right:"5px",WebkitBoxShadow:"none",border:"none"},tabIndex:-1},E?r.a.createElement(d.a,{color:"white",size:16}):r.a.createElement(p.a,{color:"white",size:16}))),r.a.createElement("button",{type:"submit",className:"btn btn-signup btn-primary btn-block"},a?"Login":"Sign Up")),r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement("hr",{style:{width:"120px",borderTop:"1px solid #ccc",margin:0}}),r.a.createElement("span",{className:"px-2 text-light"},"or"),r.a.createElement("hr",{style:{width:"120px",borderTop:"1px solid #ccc",margin:0}})),g&&r.a.createElement("div",{className:"google-login-wrapper my-3 text-center"},r.a.createElement(u.a,{onSuccess:b,onError:f}))))},b=a(14);var f=()=>{const[e,t]=Object(n.useState)(""),[a,o]=Object(n.useState)(""),[l,s]=Object(n.useState)(""),[i,m]=Object(n.useState)(!1),u=Object(c.q)(),d=function(e){var t,n,r,o,l,s;let c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("Auth success data:",e);const i=e.userName||e.username||(null===(t=e.user)||void 0===t?void 0:t.username)||(null===(n=e.user)||void 0===n?void 0:n.userName)||((null===(r=e.user)||void 0===r?void 0:r.email)?e.user.email.split("@")[0]:null)||(a?a.split("@")[0]:"User"),m=e.userID||e.userId||(null===(o=e.user)||void 0===o?void 0:o.id)||(null===(l=e.user)||void 0===l?void 0:l.userID)||(null===(s=e.user)||void 0===s?void 0:s.userId);if(!m)return console.error("Auth succeeded but missing userID:",e),void alert("Authentication succeeded but user information is incomplete. Please try again.");if(localStorage.setItem("isLogin","true"),localStorage.setItem("userName",i),localStorage.setItem("userID",String(m)),e.token){localStorage.setItem("token",e.token);try{const t=Object(b.a)(e.token);console.log("Decoded JWT:",t)}catch(d){console.warn("Could not decode JWT:",d)}}console.log(`${c?"Google signup":"Signup"} successful! Welcome ${i}`),u("/")};return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},r.a.createElement(g,{onSubmit:async n=>{if(n.preventDefault(),e&&a&&l){m(!0);try{const n=await fetch("https://quiz-backend-5rjf.onrender.com/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:e,email:a,password:l})}),r=await n.json();if(console.log("Signup response:",r),n.ok)d(r,!1);else{const e=r.message||r.error||`Signup failed (${n.status})`;alert(e)}}catch(r){console.error("Signup error:",r),alert("Network error. Please check your connection and try again.")}finally{m(!1),t(""),o(""),s("")}}else alert("Please fill in all fields")},isLogin:!1,userName:e,setUserName:t,email:a,setEmail:o,password:l,setPassword:s,showGoogleButton:!0,onGoogleSuccess:async e=>{const t=null===e||void 0===e?void 0:e.credential;if(t){m(!0);try{try{const e=Object(b.a)(t);console.log("Google signup token payload:",e)}catch(a){console.warn("Could not decode Google token:",a)}const e=await fetch("https://quiz-backend-5rjf.onrender.com/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:t})}),n=await e.json();if(console.log("Google signup response:",n),e.ok)d(n,!0);else{const t=n.error||n.message||`Google signup failed (${e.status})`;alert(t)}}catch(a){console.error("Google signup error:",a),alert("Google signup failed. Please try again.")}finally{m(!1)}}else alert("Missing Google credential")},onGoogleError:()=>{console.log("Google signup failed"),alert("Google signup failed. Please try again.")},isLoading:i}))};var E=()=>{const[e,t]=Object(n.useState)(""),[a,o]=Object(n.useState)(""),l=Object(c.q)();return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},r.a.createElement(g,{onSubmit:async n=>{n.preventDefault();try{const t=await fetch("https://quiz-backend-5rjf.onrender.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})}),n=await t.json();console.log("Raw response data:",n),t.ok?(localStorage.setItem("isLogin","true"),localStorage.setItem("userName",n.userName),localStorage.setItem("userID",String(n.userID)),l("/")):alert(n.message||"Signup failed")}catch(r){console.error("Signup error:",r),alert("Signup failed. Try again later.")}t(""),o("")},isLogin:!0,email:e,setEmail:t,password:a,setPassword:o,showGoogleButton:!0,onGoogleSuccess:e=>{const t=e.credential;fetch("https://quiz-backend-5rjf.onrender.com/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:t})}).then(e=>e.json()).then(e=>{console.log("Server response:",e),localStorage.setItem("isLogin","true"),localStorage.setItem("userName",e.user.username),localStorage.setItem("userID",String(e.user.userID)),l("/")}).catch(e=>console.error("Auth error",e)),console.log("Google credential:",e),console.log("Decoded token:",Object(b.a)(t))},onGoogleError:()=>{console.log("Google login failed")}}))},h=(a(42),a(43),a(44),a(45),a(27)),y=a.n(h),v=a(17),x=a.n(v);var w=()=>{const e=Object(c.o)(),t=Object(c.q)(),[a,o]=Object(n.useState)(!1);Object(n.useEffect)(()=>{const e="true"===localStorage.getItem("isLogin");o(e)},[e]);const l="/login"===e.pathname,i="/signup"===e.pathname,m=localStorage.getItem("userName");return r.a.createElement("nav",{className:"navbar bg-dark"},r.a.createElement("div",{className:"logo"},r.a.createElement(s.b,{to:"/"},r.a.createElement("img",{src:y.a,alt:"quiz-app-logo"}))),r.a.createElement("div",{className:"nav-right"},r.a.createElement("ul",{className:"nav-links"},a&&r.a.createElement("p",{className:"welcome-message"},"Welcome, ",m||"User","! \ud83c\udf89"),!a&&!l&&r.a.createElement("li",null,r.a.createElement(s.b,{to:"/login",className:"bordered-link"},"Login")),!a&&!i&&r.a.createElement("li",null,r.a.createElement(s.b,{to:"/signup",className:"bordered-link"},"Sign Up")),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/my-quizzes",className:"bordered-link btn btn-link text-white"},"My Quizzes")),r.a.createElement("li",null,r.a.createElement("button",{onClick:()=>{localStorage.removeItem("isLogin"),o(!1),t("/login")},className:"bordered-link btn btn-link text-white"},"Logout")))),r.a.createElement("div",{className:"icon"},r.a.createElement(s.b,{to:a?"/profile":"/"},r.a.createElement("img",{src:x.a,alt:"quiz-app-logo"})))))};var N=()=>r.a.createElement("nav",{className:"navbar"},r.a.createElement("h1",null,"QUIZ TIME"),r.a.createElement("ul",{className:"nav-links"},r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/results"},"Results"))));var z=()=>r.a.createElement("footer",{className:"bg-dark text-white text-center py-2"},r.a.createElement("p",{className:"m-0"},"\xa9 2025 QuizApp"));var k=()=>{const e=Object(c.o)(),t="true"===localStorage.getItem("isLogin");let a,n;return a="/"===e.pathname||e.pathname.startsWith("/quiz-generator")||"/login"===e.pathname||"/signup"===e.pathname||"/profile"===e.pathname||"/my-quizzes"===e.pathname||e.pathname.startsWith("/explanations")||e.pathname.startsWith("/attempts")?w:e.pathname.startsWith("/quiz")?N:null,n="/take-quiz"!==e.pathname,r.a.createElement("div",{className:"App d-flex flex-column min-vh-100 "+(t&&"/profile"!==e.pathname?"bg-secondary":"bg-black")},a&&r.a.createElement(a,null),r.a.createElement("main",null,r.a.createElement(c.a,null),"  "),r.a.createElement("div",{className:"flex-grow-1"})," ",n&&r.a.createElement(z,null))};var q=e=>{let{question:t,current:a,total:n,selectedAnswer:o,onSelect:l,onNext:s}=e;return r.a.createElement("div",{className:"card bg-dark text-white",style:{border:"1px solid #237ac3"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Question ",a+1," of ",n),r.a.createElement("h3",{className:"mb-4"},t.question),r.a.createElement("div",{className:"options mb-4"},t.options.map((e,t)=>r.a.createElement("div",{key:t,className:"form-check mb-2"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"quizOption",id:"option"+t,value:e,checked:o===e,onChange:()=>l(e)}),r.a.createElement("label",{className:"form-check-label",htmlFor:"option"+t},e)))),r.a.createElement("button",{className:"btn btn-primary",onClick:s,disabled:!o},a===n-1?"Finish Quiz":"Next Question")))};var S=e=>{let{topic:t,score:a,quizID:n,total:o,attempts:l,onTryAgain:s,difficulty:c,onShowExplanations:i,navigate:m,quizData:u,userAnswers:d,quizType:p}=e;const g="true"===localStorage.getItem("isLogin"),b=p;return console.log("Quiz Type: ",b),r.a.createElement("div",{className:"card bg-dark text-white",style:{border:"1px solid #237ac3"}},r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("h2",null,"Quiz Results"),r.a.createElement("h3",null,"Your Score: ",a," out of ",o),r.a.createElement("p",null,"You got ",Math.round(a/o*100),"%"),r.a.createElement("div",{className:"mt-4"},g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You've attempted this quiz ",l," times. Would you like to see the explanations or try again?"),r.a.createElement("button",{className:"btn btn-info me-2",onClick:i},"Show Explanations")),r.a.createElement("button",{className:"btn btn-primary me-2",onClick:s},"Try Again"),r.a.createElement("button",{className:"btn btn-secondary me-2",onClick:()=>m("/quiz-generator/"+b)},"New Quiz"),r.a.createElement("button",{className:"btn me-2 btn-danger",onClick:()=>m("/")},"Exit"))))};var j=e=>{let{quizData:t,userAnswers:a,onRetake:n,onBackToResults:o,navigate:l,readOnly:s,quizType:c}=e;return console.log("QuizExplanations loaded"),console.log("QuizExplanations loaded, readOnly = ",s),r.a.createElement("div",{className:"card text-white bg-dark border"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"text-center mb-4"},"Explanations"),t.map((e,t)=>r.a.createElement("div",{key:t,className:"mb-4 p-3 border rounded",style:{backgroundColor:"#1a1a1a"}},r.a.createElement("h4",null,t+1,". ",e.question),r.a.createElement("div",{className:"options mt-2"},e.options.map((n,o)=>r.a.createElement("div",{key:o,className:"mb-1 "+(n===e.correctAnswer?"text-success fw-bold":n===a[t]?"text-danger":"")},n," ",n===e.correctAnswer&&"\u2713",n===a[t]&&n!==e.correctAnswer&&"\u2717"))),r.a.createElement("div",{className:"explanation mt-3 p-2 bg-dark border-info border rounded"},r.a.createElement("h5",null,"Explanation:"),r.a.createElement("p",null,e.explanation)))),!s&&r.a.createElement("div",{className:"text-center mt-4"},r.a.createElement("button",{className:"btn btn-primary me-2",onClick:n},"Retake Quiz"),r.a.createElement("button",{className:"btn btn-secondary me-2",onClick:()=>l("/quiz-generator/"+c)},"New Quiz"),r.a.createElement("button",{className:"btn btn-info me-2",onClick:()=>{console.log("Button clicked"),o()}},"Back to Results"),r.a.createElement("button",{className:"btn me-2 btn-danger",onClick:()=>l("/")},"Exit"))))},O=a(59);var I=()=>{const e=Object(c.o)(),t=Object(c.q)(),[a,o]=Object(n.useState)([]),[l,s]=Object(n.useState)(""),[i,m]=Object(n.useState)(""),[u,d]=Object(n.useState)(""),[p,g]=Object(n.useState)(0),[b,f]=Object(n.useState)(""),[E,h]=Object(n.useState)(0),[y,v]=Object(n.useState)([]),[x,w]=Object(n.useState)("quiz"),[N,z]=Object(n.useState)(0),[k,I]=Object(n.useState)(""),[C,D]=Object(n.useState)(!1),T="true"===localStorage.getItem("isLogin"),A=localStorage.getItem("userID");Object(n.useEffect)(()=>{var a;(null===(a=e.state)||void 0===a?void 0:a.questions)?(o(e.state.questions),s(e.state.topic||"Quiz"),m(e.state.difficulty),I(e.state.type),d(e.state.quizID||""),v(new Array(e.state.questions.length).fill(""))):t("/quiz-generator/ai")},[e,t]),Object(n.useEffect)(()=>{"results"!==x||C||(async()=>{if(T&&A&&a.length&&u&&!C)try{const e=(await O.a.post("https://quiz-backend-5rjf.onrender.com/api/explanations/save",{userID:A,quizID:u,topic:l,explanationData:{quizData:a,userAnswers:y}})).data.explanationID;console.log("Explanation saved with ID:",e);const t={userID:A,topic:l,score:E,total:a.length,attempts:N,difficulty:i,quizID:u,explanationID:e};200===(await O.a.post("https://quiz-backend-5rjf.onrender.com/api/result/save-results",t)).status&&(console.log("Saved results successfully"),D(!0))}catch(e){console.error("Failed to save quiz result or explanations:",e)}})()},[T,A,a,y,u,E,N,l,i,x,C]);return a.length?r.a.createElement("div",{className:"container text-white mt-4 mb-4 p-4 border-0 rounded-4",style:{backgroundColor:"#1a1a1a"}},r.a.createElement("h1",{className:"text-center mb-4",style:{color:"#28a745"}},l," Quiz"),"quiz"===x&&r.a.createElement(q,{question:a[p],current:p,total:a.length,selectedAnswer:b,onSelect:f,onNext:()=>{const e=[...y];e[p]=b,v(e),b===a[p].correctAnswer&&h(E+1),p<a.length-1?(g(p+1),f("")):(w("results"),z(N+1))}}),"results"===x&&r.a.createElement(S,{topic:l,score:E,quizID:u,total:a.length,attempts:N,onTryAgain:()=>{g(0),f(""),h(0),D(!1),w("quiz")},difficulty:i,onShowExplanations:()=>{w("explanations")},navigate:t,quizData:a,userAnswers:y,quizType:k}),"explanations"===x&&r.a.createElement(j,{quizData:a,userAnswers:y,onRetake:()=>{g(0),f(""),h(0),v(new Array(a.length).fill("")),w("quiz"),D(!1)},onBackToResults:()=>{w("results")},navigate:t,readOnly:!1,quizType:k,quizID:u})):r.a.createElement("div",{className:"container mt-5 text-center"},"Loading...")};var C=()=>{const[e,t]=Object(n.useState)({name:"",email:"",joined:"",quizzesCompleted:0,averageScore:"0%",questionsAnswered:0}),a=Object(c.q)();return Object(n.useEffect)(()=>{const e=localStorage.getItem("userID");console.log("USER ID:",e);(async()=>{const a=await fetch("https://quiz-backend-5rjf.onrender.com/api/user/"+e),n=await a.json();t(e=>({...e,name:n.username,email:n.email,joined:new Date(n.joined).toLocaleString("default",{month:"long",year:"numeric"})}))})(),(async()=>{try{const a=await fetch("https://quiz-backend-5rjf.onrender.com/api/result/attempts/"+e),n=await a.json(),r=n.length;let o=0,l=0,s=0;n.forEach(e=>{o+=e.score,l+=e.totalQuestions,s+=e.totalQuestions}),console.log("Total Score: ",o);const c=l>0?Math.round(o/l*100)+"%":"0%";t(e=>({...e,quizzesCompleted:r,averageScore:c,questionsAnswered:s}))}catch(a){console.error("Failed to fetch stats:",a)}})()},[]),r.a.createElement("div",{className:"position-relative",style:{height:"88vh"}},r.a.createElement("div",{className:"d-flex flex-column h-100"},r.a.createElement("div",{className:"bg-black",style:{flex:"0 0 30%"}}),r.a.createElement("div",{className:"bg-secondary",style:{flex:"0 0 70%"}})),r.a.createElement("div",{className:"bg-white rounded-4 shadow-lg p-4 d-flex flex-column align-items-center",style:{width:"100%",maxWidth:"700px",position:"absolute",top:"30%",left:"50%",transform:"translate(-50%, -25%)",textAlign:"center"}},r.a.createElement("div",{style:{position:"absolute",top:"-60px",left:"50%",transform:"translateX(-50%)"}},r.a.createElement("img",{src:x.a,alt:"Profile",className:"rounded-circle",style:{width:"120px",height:"120px",objectFit:"cover",border:"5px solid white",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"}})),r.a.createElement("div",{className:"d-flex justify-content-between mt-5 px-3 w-100"},r.a.createElement("div",{style:{color:"#3a7bd5",fontSize:"14px",cursor:"pointer"},onClick:()=>a("/my-quizzes")},r.a.createElement("i",{className:"bi bi-collection",style:{marginRight:"4px"}})," Quizzes"),r.a.createElement("div",{style:{color:"#3a7bd5",fontSize:"14px",cursor:"pointer"},onClick:()=>a("/attempts")},r.a.createElement("i",{className:"bi bi-award",style:{marginRight:"4px"}})," Attempts")),r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",{className:"fw-bold text-dark mb-1"},e.name),r.a.createElement("p",{className:"text-secondary mb-1"},e.email),r.a.createElement("p",{className:"text-muted",style:{fontSize:"14px"}},"Joined ",e.joined)),r.a.createElement("div",{className:"d-flex justify-content-around my-4 w-100"},r.a.createElement("div",null,r.a.createElement("h4",{className:"fw-bold text-primary mb-0"},e.quizzesCompleted),r.a.createElement("small",{className:"text-dark"},"Quizzes")),r.a.createElement("div",null,r.a.createElement("h4",{className:"fw-bold text-primary mb-0"},e.averageScore),r.a.createElement("small",{className:"text-dark"},"Avg Score")),r.a.createElement("div",null,r.a.createElement("h4",{className:"fw-bold text-primary mb-0"},e.questionsAnswered),r.a.createElement("small",{className:"text-dark"},"Questions"))),r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:"btn btn-primary rounded-pill px-4 py-2 d-flex align-items-center gap-2",type:"button",id:"quizDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",style:{fontWeight:"600",fontSize:"16px",borderColor:"#0d6efd"}},"Take New Quiz",r.a.createElement("i",{className:"bi bi-chevron-down",style:{fontSize:"14px"}})),r.a.createElement("ul",{className:"dropdown-menu border-0 shadow-sm text-center","aria-labelledby":"quizDropdown",style:{borderRadius:"1rem",backgroundColor:"#ffffff",padding:"0.25rem 0",marginTop:"0",minWidth:"180px"}},r.a.createElement("li",null,r.a.createElement("div",{className:"dropdown-item fw-semibold py-2",onClick:()=>a("/quiz-generator/ai"),style:{fontSize:"14px",color:"#6c757d",backgroundColor:"transparent",cursor:"pointer",transition:"all 0.2s ease",borderRadius:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#0d6efd",e.currentTarget.style.color="#ffffff"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#6c757d"}},r.a.createElement("span",{role:"img","aria-label":"Brain"},"\ud83e\udde0")," AI Quiz")),r.a.createElement("li",null,r.a.createElement("div",{className:"dropdown-item fw-semibold py-2",onClick:()=>a("/quiz-generator/trivia"),style:{fontSize:"14px",color:"#6c757d",backgroundColor:"transparent",cursor:"pointer",transition:"all 0.2s ease",borderRadius:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#0d6efd",e.currentTarget.style.color="#ffffff"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#6c757d"}},r.a.createElement("span",{role:"img","aria-label":"Target"},"\ud83c\udfaf")," Trivia Quiz"))))))};var D=()=>{const{type:e}=Object(c.s)(),t=e,[a,o]=Object(n.useState)(""),[l,s]=Object(n.useState)(5),[i,m]=Object(n.useState)("medium"),[u,d]=Object(n.useState)(!1),[p,g]=Object(n.useState)(null),[b,f]=Object(n.useState)(null),E=Object(c.q)(),[h,y]=Object(n.useState)([]);Object(n.useEffect)(()=>{console.log("QuizGenerator loaded with type:",t)},[t]),Object(n.useEffect)(()=>{(async()=>{if(b&&b.length>0)try{const t=(await O.a.post("https://quiz-backend-5rjf.onrender.com/api/quiz/create",{title:a})).data.quizID;console.log("Quiz created ID: ",t);const n=(await O.a.post("https://quiz-backend-5rjf.onrender.com/api/quiz/save-questions",{quizID:t,title:a,questions:b,difficulty:i})).data.questionID;console.log("Question ID: ",n),E("/take-quiz",{state:{questions:b,topic:a,difficulty:i,quizID:t,type:e}})}catch(p){console.error("Failed to save quiz:",p),alert("There was an error saving the quiz. Please try again.")}})()},[b,E,a,i,e]),Object(n.useEffect)(()=>{(async()=>{try{const e=await O.a.get("https://opentdb.com/api_category.php");y(e.data.trivia_categories)}catch(p){console.error("Error fetching categories:",p),g("Failed to load categories.")}})()},[]);return r.a.createElement("div",{className:"container text-white p-4 rounded-4",style:{backgroundColor:"#1a1a1a",maxWidth:"500px",minHeight:"50vh",marginTop:"4rem",marginBottom:"3rem"}},"trivia"===t&&0===h.length?r.a.createElement("div",{className:"text-center p-5"},"Loading categories..."):r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"text-center mb-4"},r.a.createElement("h2",{style:{color:"#4da6ff",fontWeight:"600",textShadow:"0px 0px 10px rgba(77, 166, 255, 0.3)"}},"Ready to Challenge Yourself?"),r.a.createElement("p",{style:{color:"#cccccc",fontSize:"1.1rem",letterSpacing:"0.5px"}},"Choose a topic, set your difficulty, and we'll generate questions just for you!")),r.a.createElement("div",{className:"form-container bg-dark"},r.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),d(!0),g(null),console.log(`Generating ${t} quiz with:`,{topic:a,numberOfQuestions:l,difficulty:i});try{let e;"ai"===t?(e=await O.a.post("https://quiz-backend-5rjf.onrender.com/api/ai-quiz/generate",{topic:a,numberOfQuestions:l,difficulty:i}),console.log("AI quiz response:",e.data),e.data.success?f(e.data.questions):g("Failed to generate quiz questions.")):"trivia"===t?(e=await O.a.post("https://quiz-backend-5rjf.onrender.com/api/trivia-quiz/generate",{category:a,numberOfQuestions:l,difficulty:i}),console.log("Trivia quiz response:",e.data),e.data&&e.data.questions?(f(e.data.questions),console.log("Trivia questions:",e.data.questions)):g("Failed to generate trivia questions.")):g("Unknown quiz type: "+t)}catch(n){console.error("Error generating quiz:",n),n.response?(console.error("Error response data:",n.response.data),console.error("Error response status:",n.response.status),g(`Server error: ${n.response.status} - ${n.response.data.error||"Unknown error"}`)):n.request?(console.error("Error request:",n.request),g("No response received from server. Please check your connection.")):(console.error("Error message:",n.message),g("Error: "+n.message))}finally{d(!1)}},className:"p-3 rounded-lg m-4 shadow-md"},r.a.createElement("div",{className:"form-group"},"ai"===e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"topic"},"What do you want to get tested on?"),r.a.createElement("input",{type:"text",id:"topic",value:a,onChange:e=>o(e.target.value),placeholder:"e.g., Artificial Intelligence",required:!0,className:"form-control bg-black text-white border-bottom-0 border-white",style:{boxShadow:"none",WebkitBoxShadow:"0 0 0 1000px black inset",WebkitTextFillColor:"white"}})),"trivia"===e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"category"},"Select a Trivia Category:"),r.a.createElement("select",{id:"category",value:a,onChange:e=>o(e.target.value),className:"form-control bg-black text-white border-bottom-0"},r.a.createElement("option",{value:""},"Select a category"),h.map(e=>r.a.createElement("option",{key:e.name,value:e.name},e.name))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"numQuestions"},"Number of Questions:"),r.a.createElement("select",{id:"numQuestions",value:l,onChange:e=>s(Number(e.target.value)),className:"form-control bg-black text-white border-bottom-0"},r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"10"},"10"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"difficulty"},"Difficulty Level:"),r.a.createElement("select",{id:"difficulty",value:i,onChange:e=>m(e.target.value),className:"form-control bg-black text-white border-bottom-0"},r.a.createElement("option",{value:"easy"},"Easy"),r.a.createElement("option",{value:"medium"},"Medium"),r.a.createElement("option",{value:"hard"},"Hard"))),r.a.createElement("button",{type:"submit",disabled:u,className:"btn btn-primary transition",style:{transformOrigin:"center"},onMouseOver:e=>e.target.style.transform="scale(1.05)",onMouseOut:e=>e.target.style.transform="scale(1)"},u?"Generating...":"Generate Quiz")),p&&r.a.createElement("div",{className:"alert alert-danger mt-3"},p)))),p&&r.a.createElement("div",{className:"alert alert-danger mt-3"},p))},T=a(58);var A=()=>{const[e,t]=Object(n.useState)([]),[a,o]=Object(n.useState)(!0),[l,s]=Object(n.useState)(null),i=localStorage.getItem("userID"),m=Object(c.q)(),u=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"easy":return"bg-success";case"medium":return"bg-warning text-dark";case"hard":return"bg-danger";default:return"bg-secondary"}};return Object(n.useEffect)(()=>{(async()=>{try{const e=await O.a.get("https://quiz-backend-5rjf.onrender.com/api/result/quiz/"+i);t(e.data),o(!1)}catch(e){console.error("Error fetching quizzes:",e),s("Failed to load quizzes."),o(!1)}})()},[i]),a?r.a.createElement("p",{className:"text-white"},"Loading your quizzes..."):l?r.a.createElement("p",{className:"text-danger"},l):r.a.createElement("div",{className:"container pt-4 pb-4 px-4"},r.a.createElement("div",{className:"card text-white border-0 rounded-4 shadow-sm p-4",style:{backgroundColor:"#1a1a1a"}},r.a.createElement("h2",{className:"mb-4 text-center",style:{color:"#28a745"}},"My Quizzes"),0===e.length?r.a.createElement("p",null,"You haven't saved any quizzes yet."):r.a.createElement("div",{className:"row row-cols-1 row-cols-md-2 g-4"},e.map(e=>r.a.createElement("div",{key:e.quizID,className:"col"},r.a.createElement("div",{className:"card bg-dark text-light h-100 border-primary"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center mb-2"},r.a.createElement("h5",{className:"card-title"},e.topic),r.a.createElement(T.a,{onClick:e=>e.stopPropagation()},r.a.createElement(T.a.Toggle,{as:e=>{let{children:t,onClick:a}=e;return r.a.createElement("div",{onClick:e=>{e.preventDefault(),a(e)},style:{cursor:"pointer",display:"inline-flex",alignItems:"center",backgroundColor:"#212529",borderRadius:"0.25rem",color:"#fff"}},t)},id:"dropdown-"+e.quizID},r.a.createElement("i",{className:"bi bi-three-dots-vertical"})),r.a.createElement(T.a.Menu,{variant:"dark",className:"rounded-3",style:{backgroundColor:"#1a1a1a",transform:"translateX(-100px)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"}},r.a.createElement(T.a.Item,{onClick:()=>{return t=e.explanationID,void m("/explanations/"+t);var t}},r.a.createElement("i",{className:"bi bi-question-circle me-2"})," View Explanations"),r.a.createElement(T.a.Item,{onClick:()=>{return t=e.quizID,void m("/attempts/"+t);var t}},r.a.createElement("i",{className:"bi bi-clock-history me-2"})," View Attempts"),r.a.createElement(T.a.Item,{onClick:()=>{return t=e.quizID,void m("/retake-quiz/"+t);var t}},r.a.createElement("i",{className:"bi bi-arrow-repeat me-2"})," Retake Quiz"),r.a.createElement(T.a.Divider,null),r.a.createElement(T.a.Item,{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to delete this attempt?")){console.log("Explanation ID: ",e),console.log("Quiz ID: ",t);try{await O.a.delete(`https://quiz-backend-5rjf.onrender.com/api/delete/${i}/${t}/${e}`),window.location.reload()}catch(a){console.error("Failed to delete attempt:",a),alert("Something went wrong.")}}})(e.explanationID,e.quizID),className:"text-danger"},r.a.createElement("i",{className:"bi bi-trash me-2"})," Delete Quiz")))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("p",{className:"card-text mb-1"},"Taken on ",new Date(e.createdAt).toLocaleDateString()),r.a.createElement("span",{className:"badge "+u(e.difficulty),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",height:"100%"}},e.difficulty||"N/A")),r.a.createElement("div",{className:"d-flex justify-content-between mt-2"},r.a.createElement("span",{className:"badge bg-success"},e.score,"/",e.totalQuestions),r.a.createElement("span",{className:"text-end small"},"Accuracy: ",Math.round(e.score/e.totalQuestions*100),"%")))))))))};var Q=()=>{const{explanationID:e}=Object(c.s)(),t=Object(c.q)(),[a,o]=Object(n.useState)([]),[l,s]=Object(n.useState)([]),[i,m]=Object(n.useState)(""),[u,d]=Object(n.useState)(!0),p=localStorage.getItem("userID");Object(n.useEffect)(()=>{console.log("INSIDE Explanation Page");(async()=>{try{const t=await O.a.get(`https://quiz-backend-5rjf.onrender.com/api/explanations/${p}/${e}`);o(t.data.questions.quizData),s(t.data.questions.userAnswers),m(t.data.title),console.log("Topic: ",t.data.title),d(!1)}catch(t){console.error("Error fetching explanation data:",t),d(!1)}})()},[p,e]);return u?r.a.createElement("p",{className:"text-white"},"Loading explanations..."):a.length?r.a.createElement("div",{className:"container text-white mt-4 mb-4 p-4 rounded",style:{backgroundColor:"#1a1a1a"}},r.a.createElement("h1",{className:"text-center mb-4",style:{color:"#28a745"}},i," Quiz"),r.a.createElement(j,{quizData:a,userAnswers:l,onRetake:()=>{},navigate:t,readOnly:!0})):r.a.createElement("p",{className:"text-danger"},"No explanations found.")};var L=()=>{const{quizID:e}=Object(c.s)(),t=localStorage.getItem("userID"),[a,o]=Object(n.useState)([]),[l,s]=Object(n.useState)(!0),[i,m]=Object(n.useState)(null),u=Object(c.q)();Object(n.useEffect)(()=>{(async()=>{try{let a;a=e?await O.a.get(`https://quiz-backend-5rjf.onrender.com/api/result/attempts/${t}/${e}`):await O.a.get("https://quiz-backend-5rjf.onrender.com/api/result/attempts/"+t),o(a.data),s(!1)}catch(a){console.error("Error fetching attempts:",a),m("Failed to load attempts."),s(!1)}})()},[e,t]);return l?r.a.createElement("p",{className:"text-white"},"Loading attempts..."):i?r.a.createElement("p",{className:"text-danger"},i):r.a.createElement("div",{className:"container pt-4 pb-4"},r.a.createElement("div",{className:"card text-white rounded-4 shadow-sm p-4",style:{backgroundColor:"#1a1a1a"}},r.a.createElement("h2",{className:"mb-4 text-center",style:{color:"#28a745"}},"Past Attempts"),a.map((e,t)=>r.a.createElement("div",{key:t,className:"d-flex "},r.a.createElement("div",{className:"list-group-item bg- d-flex justify-content-between align-items-center text-white mb-2 rounded flex-grow-1",style:{backgroundColor:"#212529",transition:"background-color 0.3s",cursor:"pointer"},onMouseOver:e=>e.currentTarget.classList.add("bg-primary"),onMouseOut:e=>e.currentTarget.classList.remove("bg-primary")},r.a.createElement("div",{className:"d-flex align-items-center",style:{cursor:"pointer",flexGrow:1},onClick:()=>{return t=e.explanationID,void u("/explanations/"+t);var t}},r.a.createElement("div",{className:"p-2"},r.a.createElement("strong",null,e.title," Quiz - Attempt #",t+1),r.a.createElement("div",null,r.a.createElement("small",null,"Taken on ",new Date(e.createdAt).toLocaleString())))),r.a.createElement("div",{className:"d-flex align-items-center me-3"},r.a.createElement("span",{className:"badge bg-primary"},e.score,"/",e.totalQuestions," (",Math.round(e.score/e.totalQuestions*100),"%)"))),r.a.createElement("div",{className:"d-flex justify-content-center align-items-center rounded",style:{backgroundColor:"#212529",width:"36px",height:"65px",cursor:"pointer",transition:"background-color 0.3s"},onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this attempt?")){console.log("Attempt ID: ",e);try{await O.a.delete("https://quiz-backend-5rjf.onrender.com/api/delete/"+e),o(t=>t.filter(t=>t.attemptID!==e))}catch(t){console.error("Failed to delete attempt:",t),alert("Something went wrong.")}}})(e.attemptID),onMouseOver:e=>e.currentTarget.style.backgroundColor="#dc3545",onMouseOut:e=>e.currentTarget.style.backgroundColor="#212529"},r.a.createElement("i",{className:"bi bi-trash text-white"}))))))};var F=()=>{const{quizID:e}=Object(c.s)(),[t,a]=Object(n.useState)(!0),[o,l]=Object(n.useState)(null),s=Object(c.q)();return Object(n.useEffect)(()=>{(async()=>{try{const t=await O.a.get("https://quiz-backend-5rjf.onrender.com/api/quiz/questions/"+e),n=t.data.title,r=t.data.questions,o=t.data.difficulty;console.log("Topic Quiz: ",n),a(!1),s("/take-quiz",{state:{questions:r,topic:n,difficulty:o,quizID:e}})}catch(t){l("Failed to fetch quiz questions"),a(!1)}})()},[e,s]),t?r.a.createElement("p",null,"Loading..."):o?r.a.createElement("p",{className:"text-danger"},o):null};var G=function(){return r.a.createElement(s.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/",element:r.a.createElement(k,null)},r.a.createElement(c.b,{index:!0,element:r.a.createElement(m,null)}),r.a.createElement(c.b,{path:"/login",element:r.a.createElement(E,null)}),r.a.createElement(c.b,{path:"/QuizSelection",element:r.a.createElement(i,null)}),r.a.createElement(c.b,{path:"/signup",element:r.a.createElement(f,null)}),r.a.createElement(c.b,{path:"/take-quiz",element:r.a.createElement(I,null)}),r.a.createElement(c.b,{path:"/profile",element:r.a.createElement(C,null)}),r.a.createElement(c.b,{path:"/my-quizzes",element:r.a.createElement(A,null)}),r.a.createElement(c.b,{path:"/quiz-generator/:type",element:r.a.createElement(D,null)}),r.a.createElement(c.b,{path:"/attempts/:quizID",element:r.a.createElement(L,null)}),r.a.createElement(c.b,{path:"/attempts",element:r.a.createElement(L,null)}),r.a.createElement(c.b,{path:"/retake-quiz/:quizID",element:r.a.createElement(F,null)}),r.a.createElement(c.b,{path:"/explanations/:explanationID",element:r.a.createElement(Q,null)}))))};var W=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,60)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:o,getTTFB:l}=t;a(e),n(e),r(e),o(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(u.b,{clientId:"78227557484-bm7hj2o4sfg1t0groa7n5eqkik0c7101.apps.googleusercontent.com"},r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)))),W()}},[[32,1,2]]]);
//# sourceMappingURL=main.e7da9b71.chunk.js.map