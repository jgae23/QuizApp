(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/person-icon-1.f540a12d.png"},27:function(e,t,a){e.exports=a.p+"static/media/quizapp_logo.ab8c8e41.png"},32:function(e,t,a){e.exports=a(51)},39:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(26),l=a.n(o),s=(a(39),a(6)),c=a(3);var i=e=>{let{title:t,description:a,comment1:r,comment2:o,comment3:l,type:c}=e;const i={marginBottom:"0.5rem",paddingLeft:"1.5rem",position:"relative"},m={backgroundColor:"#007bff",color:"#ffffff",border:"none",borderRadius:"0.25rem",padding:"0.75rem 1rem",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",width:"100%",textDecoration:"none",display:"block",textAlign:"center",transition:"transform 0.3s ease"},u={...m,backgroundColor:"#28a745"},d="ai"===c?{to:"/quiz-generator/ai",style:m,text:"Use AI Generator"}:{to:"/quiz-generator/trivia",style:u,text:"Use Trivia Database"};return n.a.createElement("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"0.5rem",padding:"1.5rem",maxWidth:"400px",minWidth:"300px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease"},onMouseOver:e=>{e.currentTarget.style.transform="translateY(-10px)",e.currentTarget.style.boxShadow="0 10px 20px rgba(0, 0, 0, 0.2)"},onMouseOut:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)"}},n.a.createElement("h2",{style:{fontSize:"1.5rem",marginBottom:"1rem",color:"#ffffff"}},t),n.a.createElement("p",{style:{color:"rgba(255, 255, 255, 0.75)",marginBottom:"1.5rem"}},a),n.a.createElement("ul",{style:{listStyle:"none",padding:0,marginBottom:"1.5rem",color:"#ffffff"}},n.a.createElement("li",{style:i},n.a.createElement("span",{style:{position:"absolute",left:0}},"\u2713")," ",r),n.a.createElement("li",{style:i},n.a.createElement("span",{style:{position:"absolute",left:0}},"\u2713")," ",o),n.a.createElement("li",{style:i},n.a.createElement("span",{style:{position:"absolute",left:0}},"\u2713")," ",l)),n.a.createElement(s.b,{to:d.to,style:d.style,onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)"},d.text))};var m=()=>{const e="true"===localStorage.getItem("isLogin"),t={fontSize:"1rem",marginBottom:"20px",color:"#f0f0f0",textAlign:"center"};return n.a.createElement("div",{className:"container-fluid justify-content-center",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:"6rem"}},n.a.createElement("h1",{style:{fontSize:"3rem",marginBottom:"10px",color:"#e0ffff",textAlign:"center"}},"Choose Your Quiz Experience"),n.a.createElement("p",{style:t},"Select from our AI-powered quizzes or explore our trivia database"),!e&&n.a.createElement("p",{style:{...t,fontSize:"0.85rem",opacity:.8}},"Sign up or Login to save your quizzes, track progress, and more!"),n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"2rem",marginTop:"2rem",width:"100%",maxWidth:"1200px"}},n.a.createElement(i,{title:"AI-Generated Quiz",description:"Generate unique quiz questions on any topic using Claude 3.5 Sonnet AI. Perfect for custom topics or specialized knowledge areas.",comment1:"Any topic you can imagine",comment2:"Custom difficulty levels",comment3:"Unique questions every time",type:"ai"}),n.a.createElement(i,{title:"Trivia Database",description:"Use our trivia database with thousands of pre-made questions across various categories and difficulty levels.",comment1:"Multiple categories",comment2:"Three difficulty levels",comment3:"Multiple choice questions",type:"trivia"})),e&&n.a.createElement(n.a.Fragment,null))},u=(a(40),a(16)),d=a(56),p=a(57);var g=e=>{let{onSubmit:t,isLogin:a,email:o,setEmail:l,password:s,setPassword:c,setUserName:i,userName:m,showGoogleButton:g,onGoogleSuccess:b,onGoogleError:f}=e;const[E,h]=Object(r.useState)(!1);return n.a.createElement("div",{className:"container text-white p-4 rounded-4",style:{backgroundColor:"#1a1a1a",maxWidth:"500px",minHeight:"50vh",marginTop:"4rem",marginBottom:"3rem"}},n.a.createElement("div",{className:"row justify-content-center",style:{marginBottom:"-40px"}},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"text-center mb-4"},n.a.createElement("h2",{style:{color:"#4da6ff",fontWeight:"600",textShadow:"0px 0px 10px rgba(77, 166, 255, 0.3)"}},a?"Welcome Back!":"Create Your Account"),n.a.createElement("p",{style:{color:"#cccccc",fontSize:"1.1rem",letterSpacing:"0.5px"}},a?"Login to continue your journey.":"Sign up to get started with quizzes.")),n.a.createElement("div",{className:"form-container bg-dark mt-4"},n.a.createElement("form",{onSubmit:t,className:"p-3 rounded-lg m-4 shadow-md"},!a&&n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"userName"},"User Name:"),n.a.createElement("input",{type:"text",id:"userName",value:m,onChange:e=>i(e.target.value),required:!0,placeholder:"e.g., quizmaster123",className:"form-control bg-black text-white border-bottom-0 border-white",style:{boxShadow:"none",WebkitBoxShadow:"0 0 0 1000px black inset",WebkitTextFillColor:"white"}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{type:"email",id:"email",value:o,onChange:e=>l(e.target.value),required:!0,placeholder:"you@example.com",className:"form-control bg-black text-white border-bottom-0 border-white",style:{boxShadow:"none",WebkitBoxShadow:"0 0 0 1000px black inset",WebkitTextFillColor:"white"}})),n.a.createElement("div",{className:"form-group position-relative"},n.a.createElement("label",{htmlFor:"password"},"Password:"),n.a.createElement("input",{type:E?"text":"password",id:"password",value:s,onChange:e=>c(e.target.value),required:!0,placeholder:"Enter your password",className:"form-control bg-black text-white border-bottom-0 border-white",style:{boxShadow:"none",WebkitBoxShadow:"0 0 0 1000px black inset",WebkitTextFillColor:"white"}}),n.a.createElement("button",{type:"button",className:"btn btn-sm btn-black position-absolute",onClick:()=>h(e=>!e),style:{top:"30px",right:"5px",border:"none"},tabIndex:-1},E?n.a.createElement(d.a,{color:"white",size:16}):n.a.createElement(p.a,{color:"white",size:16}))),n.a.createElement("button",{type:"submit",className:"btn btn-signup mt-2 btn-primary btn-block"},a?"Login":"Sign Up")),n.a.createElement("div",{className:"d-flex align-items-center justify-content-center",style:{marginTop:"-30px",marginBottom:"-15px"}},n.a.createElement("hr",{style:{width:"120px",borderTop:"1px solid #ccc",margin:0}}),n.a.createElement("span",{className:"px-2 text-light"},"or"),n.a.createElement("hr",{style:{width:"120px",borderTop:"1px solid #ccc",margin:0}})),g&&n.a.createElement("div",{className:"google-login-wrapper my-3 text-center"},n.a.createElement(u.a,{onSuccess:b,onError:f}))))))},b=a(14);var f=()=>{const[e,t]=Object(r.useState)(""),[a,o]=Object(r.useState)(""),[l,s]=Object(r.useState)(""),[i,m]=Object(r.useState)(!1),u=Object(c.r)();localStorage.removeItem("isLogin"),localStorage.removeItem("userName"),localStorage.removeItem("userID"),localStorage.removeItem("token"),localStorage.removeItem("supabase_access_token");const d=function(e){let t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("Auth success data:",e);let r=e.userName;if(console.log("I'm here at line 26 in Signup.js"),e.token){localStorage.setItem("token",e.token);try{var n;const a=Object(b.a)(e.token);console.log("Decoded JWT:",a),t=a.userID||a.id||a._id||a.email||a.username,r=r||a.username||(null===(n=a.email)||void 0===n?void 0:n.split("@")[0])||"User"}catch(o){console.warn("Could not decode JWT:",o)}}if(!t)return console.error("Auth succeeded but missing userID (even after decoding token):",e),void alert("Authentication succeeded but user information is incomplete. Please try again.");localStorage.setItem("isLogin","true"),localStorage.setItem("userName",r),localStorage.setItem("userID",String(t)),console.log(`${a?"Google signup":"Signup"} successful! Welcome ${r}`),u("/")};return n.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},n.a.createElement(g,{onSubmit:async r=>{if(r.preventDefault(),e&&a&&l){m(!0);try{const r=await fetch("https://quiz-backend-5rjf.onrender.com/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:e,email:a,password:l})}),n=await r.json();if(console.log("Signup response:",n),r.ok)d(n,!1);else{const e=n.message||n.error||`Signup failed (${r.status})`;alert(e)}}catch(n){console.error("Signup error:",n),alert("Network error. Please check your connection and try again.")}finally{m(!1),t(""),o(""),s("")}}else alert("Please fill in all fields")},isLogin:!1,userName:e,setUserName:t,email:a,setEmail:o,password:l,setPassword:s,showGoogleButton:!0,onGoogleSuccess:async e=>{const t=null===e||void 0===e?void 0:e.credential;if(t){m(!0);try{const e=await fetch("https://quiz-backend-5rjf.onrender.com/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:t})}),a=await e.json();if(console.log("Google signup response:",a),e.ok)d(a,!0);else{const t=a.error||a.message||`Google signup failed (${e.status})`;alert(t)}}catch(a){console.error("Google signup error:",a),alert("Google signup failed. Please try again.")}finally{m(!1)}}else alert("Missing Google credential")},onGoogleError:()=>{console.log("Google signup failed"),alert("Google signup failed. Please try again.")},isLoading:i}))};var E=()=>{const[e,t]=Object(r.useState)(""),[a,o]=Object(r.useState)(""),l=Object(c.r)();return n.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},n.a.createElement(g,{onSubmit:async r=>{r.preventDefault();try{const t=await fetch("https://quiz-backend-5rjf.onrender.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})}),r=await t.json();console.log("Raw response data:",r),t.ok?(localStorage.setItem("isLogin","true"),localStorage.setItem("userName",r.userName),localStorage.setItem("userID",String(r.userID)),l("/")):alert(r.message||"Signup failed")}catch(n){console.error("Signup error:",n),alert("Signup failed. Try again later.")}t(""),o("")},isLogin:!0,email:e,setEmail:t,password:a,setPassword:o,showGoogleButton:!0,onGoogleSuccess:e=>{const t=e.credential;localStorage.removeItem("isLogin"),localStorage.removeItem("userName"),localStorage.removeItem("userID"),localStorage.removeItem("token"),localStorage.removeItem("supabase_access_token"),fetch("https://quiz-backend-5rjf.onrender.com/api/auth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:t})}).then(e=>e.json()).then(e=>{console.log("Username from data:",e.userName),localStorage.setItem("isLogin","true"),localStorage.setItem("userName",e.userName),localStorage.setItem("userID",String(e.userID)),l("/")}).catch(e=>console.error("Auth error",e)),console.log("Google credential:",e),console.log("Decoded token:",Object(b.a)(t)),console.log("Usernmae from token:",Object(b.a)(t).name)},onGoogleError:()=>{console.log("Google login failed")}}))},h=(a(42),a(43),a(44),a(45),a(27)),y=a.n(h),v=a(17),x=a.n(v);var w=()=>{const e=Object(c.p)(),t=Object(c.r)(),[a,o]=Object(r.useState)(!1);Object(r.useEffect)(()=>{const e="true"===localStorage.getItem("isLogin");o(e)},[e]);const l="/login"===e.pathname,i="/signup"===e.pathname,m=localStorage.getItem("userName");return n.a.createElement("nav",{className:"navbar bg-dark"},n.a.createElement("div",{className:"logo"},n.a.createElement(s.b,{to:"/"},n.a.createElement("img",{src:y.a,alt:"quiz-app-logo"}))),n.a.createElement("div",{className:"nav-right"},n.a.createElement("ul",{className:"nav-links"},a&&n.a.createElement("p",{className:"welcome-message"},"Welcome, ",m||"User","! \ud83c\udf89"),!a&&!l&&n.a.createElement("li",null,n.a.createElement(s.b,{to:"/login",className:"bordered-link"},"Login")),!a&&!i&&n.a.createElement("li",null,n.a.createElement(s.b,{to:"/signup",className:"bordered-link"},"Sign Up")),a&&n.a.createElement(n.a.Fragment,null,n.a.createElement("li",null,n.a.createElement(s.b,{to:"/my-quizzes",className:"bordered-link btn btn-link text-white"},"My Quizzes")),n.a.createElement("li",null,n.a.createElement("button",{onClick:()=>{localStorage.removeItem("isLogin"),o(!1),localStorage.clear(),t("/login")},className:"bordered-link btn btn-link text-white"},"Logout")))),n.a.createElement("div",{className:"icon"},n.a.createElement(s.b,{to:a?"/profile":"/"},n.a.createElement("img",{src:x.a,alt:"quiz-app-logo"})))))};var N=()=>n.a.createElement("nav",{className:"navbar"},n.a.createElement("h1",null,"QUIZ TIME"),n.a.createElement("ul",{className:"nav-links"},n.a.createElement("li",null,n.a.createElement(s.b,{to:"/"},"Home")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/results"},"Results"))));var z=()=>n.a.createElement("footer",{className:"bg-dark text-white text-center py-2"},n.a.createElement("p",{className:"m-0"},"\xa9 2025 QuizApp"));var k=()=>{const e=Object(c.p)(),t="true"===localStorage.getItem("isLogin");let a,o;return Object(r.useEffect)(()=>{const e=setInterval(()=>{fetch("https://quiz-backend-5rjf.onrender.com/api/ping").then(()=>console.log("Pinged backend")).catch(e=>console.error("Ping failed:",e))},3e5);return()=>clearInterval(e)},[]),a="/"===e.pathname||e.pathname.startsWith("/quiz-generator")||"/login"===e.pathname||"/signup"===e.pathname||"/profile"===e.pathname||"/my-quizzes"===e.pathname||e.pathname.startsWith("/explanations")||e.pathname.startsWith("/attempts")?w:e.pathname.startsWith("/quiz")?N:null,o="/take-quiz"!==e.pathname,n.a.createElement("div",{className:"App d-flex flex-column min-vh-100 "+(t&&"/profile"!==e.pathname?"bg-secondary":"bg-black")},a&&n.a.createElement(a,null),n.a.createElement("main",null,n.a.createElement(c.b,null),"  "),n.a.createElement("div",{className:"flex-grow-1"})," ",o&&n.a.createElement(z,null))};var S=e=>{let{question:t,current:a,total:r,selectedAnswer:o,onSelect:l,onNext:s}=e;return n.a.createElement("div",{className:"card bg-dark text-white",style:{border:"1px solid #237ac3"}},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},"Question ",a+1," of ",r),n.a.createElement("h3",{className:"mb-4"},t.question),n.a.createElement("div",{className:"options mb-4"},t.options.map((e,t)=>n.a.createElement("div",{key:t,className:"form-check mb-2"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"quizOption",id:"option"+t,value:e,checked:o===e,onChange:()=>l(e)}),n.a.createElement("label",{className:"form-check-label",htmlFor:"option"+t},e)))),n.a.createElement("button",{className:"btn btn-primary",onClick:s,disabled:!o},a===r-1?"Finish Quiz":"Next Question")))};var q=e=>{let{topic:t,score:a,quizID:r,total:o,attempts:l,onTryAgain:s,difficulty:c,onShowExplanations:i,navigate:m,quizData:u,userAnswers:d,quizType:p}=e;const g="true"===localStorage.getItem("isLogin"),b=p;return console.log("Quiz Type: ",b),n.a.createElement("div",{className:"card bg-dark text-white",style:{border:"1px solid #237ac3"}},n.a.createElement("div",{className:"card-body text-center"},n.a.createElement("h2",null,"Quiz Results"),n.a.createElement("h3",null,"Your Score: ",a," out of ",o),n.a.createElement("p",null,"You got ",Math.round(a/o*100),"%"),n.a.createElement("div",{className:"mt-4"},g&&n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"You've attempted this quiz ",l," times. Would you like to see the explanations or try again?"),n.a.createElement("button",{className:"btn btn-info me-2",onClick:i},"Show Explanations")),n.a.createElement("button",{className:"btn btn-primary me-2",onClick:s},"Try Again"),n.a.createElement("button",{className:"btn btn-secondary me-2",onClick:()=>m("/quiz-generator/"+b)},"New Quiz"),n.a.createElement("button",{className:"btn me-2 btn-danger",onClick:()=>m("/")},"Exit"))))};var j=e=>{let{quizData:t,userAnswers:a,onRetake:r,onBackToResults:o,navigate:l,readOnly:s,quizType:c}=e;return console.log("QuizExplanations loaded"),console.log("QuizExplanations loaded, readOnly = ",s),n.a.createElement("div",{className:"card text-white bg-dark border"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h2",{className:"text-center mb-4"},"Explanations"),t.map((e,t)=>n.a.createElement("div",{key:t,className:"mb-4 p-3 border rounded",style:{backgroundColor:"#1a1a1a"}},n.a.createElement("h4",null,t+1,". ",e.question),n.a.createElement("div",{className:"options mt-2"},e.options.map((r,o)=>n.a.createElement("div",{key:o,className:"mb-1 "+(r===e.correctAnswer?"text-success fw-bold":r===a[t]?"text-danger":"")},r," ",r===e.correctAnswer&&"\u2713",r===a[t]&&r!==e.correctAnswer&&"\u2717"))),n.a.createElement("div",{className:"explanation mt-3 p-2 bg-dark border-info border rounded"},n.a.createElement("h5",null,"Explanation:"),n.a.createElement("p",null,e.explanation)))),!s&&n.a.createElement("div",{className:"text-center mt-4"},n.a.createElement("button",{className:"btn btn-primary me-2",onClick:r},"Retake Quiz"),n.a.createElement("button",{className:"btn btn-secondary me-2",onClick:()=>l("/quiz-generator/"+c)},"New Quiz"),n.a.createElement("button",{className:"btn btn-info me-2",onClick:()=>{console.log("Button clicked"),o()}},"Back to Results"),n.a.createElement("button",{className:"btn me-2 btn-danger",onClick:()=>l("/")},"Exit"))))},I=a(59);var O=()=>{const e=Object(c.p)(),t=Object(c.r)(),[a,o]=Object(r.useState)([]),[l,s]=Object(r.useState)(""),[i,m]=Object(r.useState)(""),[u,d]=Object(r.useState)(""),[p,g]=Object(r.useState)(0),[b,f]=Object(r.useState)(""),[E,h]=Object(r.useState)(0),[y,v]=Object(r.useState)([]),[x,w]=Object(r.useState)("quiz"),[N,z]=Object(r.useState)(0),[k,O]=Object(r.useState)(""),[C,D]=Object(r.useState)(!1),T="true"===localStorage.getItem("isLogin"),A=localStorage.getItem("userID");Object(r.useEffect)(()=>{var a;(null===(a=e.state)||void 0===a?void 0:a.questions)?(o(e.state.questions),s(e.state.topic||"Quiz"),m(e.state.difficulty),O(e.state.type),d(e.state.quizID||""),v(new Array(e.state.questions.length).fill(""))):t("/quiz-generator/ai")},[e,t]),Object(r.useEffect)(()=>{"results"!==x||C||(async()=>{if(T&&A&&a.length&&u&&!C)try{const e=(await I.a.post("https://quiz-backend-5rjf.onrender.com/api/explanations/save",{userID:A,quizID:u,topic:l,explanationData:{quizData:a,userAnswers:y}})).data.explanationID;console.log("Explanation saved with ID:",e);const t={userID:A,topic:l,score:E,total:a.length,attempts:N,difficulty:i,quizID:u,explanationID:e};200===(await I.a.post("https://quiz-backend-5rjf.onrender.com/api/result/save-results",t)).status&&(console.log("Saved results successfully"),D(!0))}catch(e){console.error("Failed to save quiz result or explanations:",e)}})()},[T,A,a,y,u,E,N,l,i,x,C]);return a.length?n.a.createElement("div",{className:"container text-white mt-4 mb-4 p-4 border-0 rounded-4",style:{backgroundColor:"#1a1a1a"}},n.a.createElement("h2",{className:"text-center mb-4",style:{color:"#28a745"}},l," Quiz"),"quiz"===x&&n.a.createElement(S,{question:a[p],current:p,total:a.length,selectedAnswer:b,onSelect:f,onNext:()=>{const e=[...y];e[p]=b,v(e),b===a[p].correctAnswer&&h(E+1),p<a.length-1?(g(p+1),f("")):(w("results"),z(N+1))}}),"results"===x&&n.a.createElement(q,{topic:l,score:E,quizID:u,total:a.length,attempts:N,onTryAgain:()=>{g(0),f(""),h(0),D(!1),w("quiz")},difficulty:i,onShowExplanations:()=>{w("explanations")},navigate:t,quizData:a,userAnswers:y,quizType:k}),"explanations"===x&&n.a.createElement(j,{quizData:a,userAnswers:y,onRetake:()=>{g(0),f(""),h(0),v(new Array(a.length).fill("")),w("quiz"),D(!1)},onBackToResults:()=>{w("results")},navigate:t,readOnly:!1,quizType:k,quizID:u})):n.a.createElement("div",{className:"container mt-5 text-center"},"Loading...")};var C=()=>{const[e,t]=Object(r.useState)({name:"",email:"",joined:"",quizzesCompleted:0,averageScore:"0%",questionsAnswered:0}),a=Object(c.r)();return Object(r.useEffect)(()=>{const e=localStorage.getItem("userID");console.log("USER ID:",e);(async()=>{const a=await fetch("https://quiz-backend-5rjf.onrender.com/api/user/"+e),r=await a.json();t(e=>({...e,name:r.username,email:r.email,joined:new Date(r.joined).toLocaleString("default",{month:"long",year:"numeric"})}))})(),(async()=>{try{const a=await fetch("https://quiz-backend-5rjf.onrender.com/api/result/attempts/"+e),r=await a.json(),n=r.length;let o=0,l=0,s=0;r.forEach(e=>{o+=e.score,l+=e.totalquestions,s+=e.totalquestions}),console.log("Total Score: ",o);const c=l>0?Math.round(o/l*100)+"%":"0%";t(e=>({...e,quizzesCompleted:n,averageScore:c,questionsAnswered:s}))}catch(a){console.error("Failed to fetch stats:",a)}})()},[]),n.a.createElement("div",{className:"position-relative",style:{height:"88vh"}},n.a.createElement("div",{className:"d-flex flex-column h-100"},n.a.createElement("div",{className:"bg-black",style:{flex:"0 0 30%"}}),n.a.createElement("div",{className:"bg-secondary",style:{flex:"0 0 70%"}})),n.a.createElement("div",{className:"bg-white rounded-4 shadow-lg p-4 d-flex flex-column align-items-center",style:{width:"100%",maxWidth:"700px",position:"absolute",top:"30%",left:"50%",transform:"translate(-50%, -25%)",textAlign:"center"}},n.a.createElement("div",{style:{position:"absolute",top:"-60px",left:"50%",transform:"translateX(-50%)"}},n.a.createElement("img",{src:x.a,alt:"Profile",className:"rounded-circle",style:{width:"120px",height:"120px",objectFit:"cover",border:"5px solid white",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"}})),n.a.createElement("div",{className:"d-flex justify-content-between mt-5 px-3 w-100"},n.a.createElement("div",{style:{color:"#3a7bd5",fontSize:"14px",cursor:"pointer"},onClick:()=>a("/my-quizzes")},n.a.createElement("i",{className:"bi bi-collection",style:{marginRight:"4px"}})," Quizzes"),n.a.createElement("div",{style:{color:"#3a7bd5",fontSize:"14px",cursor:"pointer"},onClick:()=>a("/attempts")},n.a.createElement("i",{className:"bi bi-award",style:{marginRight:"4px"}})," Attempts")),n.a.createElement("div",{className:"mt-3"},n.a.createElement("h3",{className:"fw-bold text-dark mb-1"},e.name),n.a.createElement("p",{className:"text-secondary mb-1"},e.email),n.a.createElement("p",{className:"text-muted",style:{fontSize:"14px"}},"Joined ",e.joined)),n.a.createElement("div",{className:"d-flex justify-content-around my-4 w-100"},n.a.createElement("div",null,n.a.createElement("h4",{className:"fw-bold text-primary mb-0"},e.quizzesCompleted),n.a.createElement("small",{className:"text-dark"},"Quizzes")),n.a.createElement("div",null,n.a.createElement("h4",{className:"fw-bold text-primary mb-0"},e.averageScore),n.a.createElement("small",{className:"text-dark"},"Avg Score")),n.a.createElement("div",null,n.a.createElement("h4",{className:"fw-bold text-primary mb-0"},e.questionsAnswered),n.a.createElement("small",{className:"text-dark"},"Questions"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-primary rounded-pill px-4 py-2 d-flex align-items-center gap-2",type:"button",id:"quizDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",style:{fontWeight:"600",fontSize:"16px",borderColor:"#0d6efd"}},"Take New Quiz",n.a.createElement("i",{className:"bi bi-chevron-down",style:{fontSize:"14px"}})),n.a.createElement("ul",{className:"dropdown-menu border-0 shadow-sm text-center","aria-labelledby":"quizDropdown",style:{borderRadius:"1rem",backgroundColor:"#ffffff",padding:"0.25rem 0",marginTop:"0",minWidth:"180px"}},n.a.createElement("li",null,n.a.createElement("div",{className:"dropdown-item fw-semibold py-2",onClick:()=>a("/quiz-generator/ai"),style:{fontSize:"14px",color:"#6c757d",backgroundColor:"transparent",cursor:"pointer",transition:"all 0.2s ease",borderRadius:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#0d6efd",e.currentTarget.style.color="#ffffff"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#6c757d"}},n.a.createElement("span",{role:"img","aria-label":"Brain"},"\ud83e\udde0")," AI Quiz")),n.a.createElement("li",null,n.a.createElement("div",{className:"dropdown-item fw-semibold py-2",onClick:()=>a("/quiz-generator/trivia"),style:{fontSize:"14px",color:"#6c757d",backgroundColor:"transparent",cursor:"pointer",transition:"all 0.2s ease",borderRadius:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#0d6efd",e.currentTarget.style.color="#ffffff"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#6c757d"}},n.a.createElement("span",{role:"img","aria-label":"Target"},"\ud83c\udfaf")," Trivia Quiz"))))))};var D=()=>{const{type:e}=Object(c.t)(),t=e,[a,o]=Object(r.useState)(""),[l,s]=Object(r.useState)(5),[i,m]=Object(r.useState)("medium"),[u,d]=Object(r.useState)(!1),[p,g]=Object(r.useState)(null),[b,f]=Object(r.useState)(null),E=Object(c.r)(),[h,y]=Object(r.useState)([]);Object(r.useEffect)(()=>{console.log("QuizGenerator loaded with type:",t)},[t]),Object(r.useEffect)(()=>{(async()=>{if(b&&b.length>0)try{const t=(await I.a.post("https://quiz-backend-5rjf.onrender.com/api/quiz/create",{title:a})).data.quizID;console.log("Quiz created ID: ",t);const r=(await I.a.post("https://quiz-backend-5rjf.onrender.com/api/quiz/save-questions",{quizID:t,title:a,questions:b,difficulty:i})).data.questionID;console.log("Question ID: ",r),E("/take-quiz",{state:{questions:b,topic:a,difficulty:i,quizID:t,type:e}})}catch(p){console.error("Failed to save quiz:",p),alert("There was an error saving the quiz. Please try again.")}})()},[b,E,a,i,e]),Object(r.useEffect)(()=>{(async()=>{try{const e=await I.a.get("https://opentdb.com/api_category.php");y(e.data.trivia_categories)}catch(p){console.error("Error fetching categories:",p),g("Failed to load categories.")}})()},[]);return n.a.createElement("div",{className:"container text-white p-4 rounded-4",style:{backgroundColor:"#1a1a1a",maxWidth:"500px",minHeight:"50vh",marginTop:"4rem",marginBottom:"3rem"}},"trivia"===t&&0===h.length?n.a.createElement("div",{className:"text-center p-5"},"Loading categories..."):n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"text-center mb-4"},n.a.createElement("h2",{style:{color:"#4da6ff",fontWeight:"600",textShadow:"0px 0px 10px rgba(77, 166, 255, 0.3)"}},"Ready to Challenge Yourself?"),n.a.createElement("p",{style:{color:"#cccccc",fontSize:"1.1rem",letterSpacing:"0.5px"}},"Choose a topic, set your difficulty, and we'll generate questions just for you!")),n.a.createElement("div",{className:"form-container bg-dark"},n.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),d(!0),g(null),console.log(`Generating ${t} quiz with:`,{topic:a,numberOfQuestions:l,difficulty:i});try{let e;"ai"===t?(e=await I.a.post("https://quiz-backend-5rjf.onrender.com/api/ai-quiz/generate",{topic:a,numberOfQuestions:l,difficulty:i}),console.log("AI quiz response:",e.data),e.data.success?f(e.data.questions):g("Failed to generate quiz questions.")):"trivia"===t?(e=await I.a.post("https://quiz-backend-5rjf.onrender.com/api/trivia-quiz/generate",{category:a,numberOfQuestions:l,difficulty:i}),console.log("Trivia quiz response:",e.data),e.data&&e.data.questions?(f(e.data.questions),console.log("Trivia questions:",e.data.questions)):g("Failed to generate trivia questions.")):g("Unknown quiz type: "+t)}catch(r){console.error("Error generating quiz:",r),r.response?(console.error("Error response data:",r.response.data),console.error("Error response status:",r.response.status),g(`Server error: ${r.response.status} - ${r.response.data.error||"Unknown error"}`)):r.request?(console.error("Error request:",r.request),g("No response received from server. Please check your connection.")):(console.error("Error message:",r.message),g("Error: "+r.message))}finally{d(!1)}},className:"p-3 rounded-lg m-4 shadow-md"},n.a.createElement("div",{className:"form-group"},"ai"===e&&n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{htmlFor:"topic"},"What do you want to get tested on?"),n.a.createElement("input",{type:"text",id:"topic",value:a,onChange:e=>o(e.target.value),placeholder:"e.g., Artificial Intelligence",required:!0,className:"form-control bg-black text-white border-bottom-0 border-white",style:{boxShadow:"none",WebkitBoxShadow:"0 0 0 1000px black inset",WebkitTextFillColor:"white"}})),"trivia"===e&&n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{htmlFor:"category"},"Select a Trivia Category:"),n.a.createElement("select",{id:"category",value:a,onChange:e=>o(e.target.value),className:"form-control bg-black text-white border-bottom-0"},n.a.createElement("option",{value:""},"Select a category"),h.map(e=>n.a.createElement("option",{key:e.name,value:e.name},e.name))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"numQuestions"},"Number of Questions:"),n.a.createElement("select",{id:"numQuestions",value:l,onChange:e=>s(Number(e.target.value)),className:"form-control bg-black text-white border-bottom-0"},n.a.createElement("option",{value:"3"},"3"),n.a.createElement("option",{value:"5"},"5"),n.a.createElement("option",{value:"10"},"10"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"difficulty"},"Difficulty Level:"),n.a.createElement("select",{id:"difficulty",value:i,onChange:e=>m(e.target.value),className:"form-control bg-black text-white border-bottom-0"},n.a.createElement("option",{value:"easy"},"Easy"),n.a.createElement("option",{value:"medium"},"Medium"),n.a.createElement("option",{value:"hard"},"Hard"))),n.a.createElement("button",{type:"submit",disabled:u,className:"btn btn-primary transition",style:{transformOrigin:"center"},onMouseOver:e=>e.target.style.transform="scale(1.05)",onMouseOut:e=>e.target.style.transform="scale(1)"},u?"Generating...":"Generate Quiz")),p&&n.a.createElement("div",{className:"alert alert-danger mt-3"},p)))),p&&n.a.createElement("div",{className:"alert alert-danger mt-3"},p))},T=a(58);var A=()=>{const[e,t]=Object(r.useState)([]),[a,o]=Object(r.useState)(!0),[l,s]=Object(r.useState)(null),i=localStorage.getItem("userID"),m=Object(c.r)(),u=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"easy":return"bg-success";case"medium":return"bg-warning text-dark";case"hard":return"bg-danger";default:return"bg-secondary"}};return Object(r.useEffect)(()=>{(async()=>{try{const e=await I.a.get("https://quiz-backend-5rjf.onrender.com/api/result/quiz/"+i);t(e.data||[]),o(!1)}catch(e){console.error("Error fetching quizzes:",e),s("Failed to load quizzes."),o(!1)}})()},[i]),a?n.a.createElement("p",{className:"text-white"},"Loading your quizzes..."):l?n.a.createElement("p",{className:"text-danger"},l):n.a.createElement("div",{className:"container pt-4 pb-4 px-4"},n.a.createElement("div",{className:"card text-white border-0 rounded-4 shadow-sm p-4",style:{backgroundColor:"#1a1a1a"}},n.a.createElement("h2",{className:"mb-4 text-center",style:{color:"#28a745"}},"My Quizzes"),0===e.length?n.a.createElement("p",null,"You haven't saved any quizzes yet."):n.a.createElement("div",{className:"row row-cols-1 row-cols-md-2 g-4"},e.map(e=>n.a.createElement("div",{key:e.quizid,className:"col"},n.a.createElement("div",{className:"card bg-dark text-light h-100 border-primary"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"d-flex justify-content-between align-items-center mb-2"},n.a.createElement("h5",{className:"card-title"},e.topic),n.a.createElement(T.a,{onClick:e=>e.stopPropagation()},n.a.createElement(T.a.Toggle,{as:e=>{let{children:t,onClick:a}=e;return n.a.createElement("div",{onClick:e=>{e.preventDefault(),a(e)},style:{cursor:"pointer",display:"inline-flex",alignItems:"center",backgroundColor:"#212529",borderRadius:"0.25rem",color:"#fff"}},t)},id:"dropdown-"+e.quizid},n.a.createElement("i",{className:"bi bi-three-dots-vertical"})),n.a.createElement(T.a.Menu,{variant:"dark",className:"rounded-3",style:{backgroundColor:"#1a1a1a",transform:"translateX(-100px)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)"}},n.a.createElement(T.a.Item,{onClick:()=>{return t=e.explanationid,void m("/explanations/"+t);var t}},n.a.createElement("i",{className:"bi bi-question-circle me-2"})," View Explanations"),n.a.createElement(T.a.Item,{onClick:()=>{return t=e.quizid,void m("/attempts/"+t);var t}},n.a.createElement("i",{className:"bi bi-clock-history me-2"})," View Attempts"),n.a.createElement(T.a.Item,{onClick:()=>{return t=e.quizid,void m("/retake-quiz/"+t);var t}},n.a.createElement("i",{className:"bi bi-arrow-repeat me-2"})," Retake Quiz"),n.a.createElement(T.a.Divider,null),n.a.createElement(T.a.Item,{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to delete this attempt?")){console.log("Explanation ID: ",e),console.log("Quiz ID: ",t);try{await I.a.delete(`https://quiz-backend-5rjf.onrender.com/api/delete/${i}/${t}/${e}`),window.location.reload()}catch(a){console.error("Failed to delete attempt:",a),alert("Something went wrong.")}}})(e.explanationid,e.quizid),className:"text-danger"},n.a.createElement("i",{className:"bi bi-trash me-2"})," Delete Quiz")))),n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement("p",{className:"card-text mb-1"},"Taken on ",new Date(e.createdat).toLocaleDateString()),n.a.createElement("span",{className:"badge "+u(e.difficulty),style:{display:"inline-flex",alignItems:"center",justifyContent:"center",height:"100%"}},e.difficulty||"N/A")),n.a.createElement("div",{className:"d-flex justify-content-between mt-2"},n.a.createElement("span",{className:"badge bg-success"},e.score,"/",e.totalquestions),n.a.createElement("span",{className:"text-end small"},"Accuracy: ",Math.round(e.score/e.totalquestions*100),"%")))))))))};var Q=()=>{const{explanationID:e}=Object(c.t)(),t=Object(c.r)(),[a,o]=Object(r.useState)([]),[l,s]=Object(r.useState)([]),[i,m]=Object(r.useState)(""),[u,d]=Object(r.useState)(!0),p=localStorage.getItem("userID");Object(r.useEffect)(()=>{console.log("INSIDE Explanation Page");(async()=>{try{const t=await I.a.get(`https://quiz-backend-5rjf.onrender.com/api/explanations/${p}/${e}`);o(t.data.questions.quizData),s(t.data.questions.userAnswers),m(t.data.title),console.log("Topic: ",t.data.title),d(!1)}catch(t){console.error("Error fetching explanation data:",t),d(!1)}})()},[p,e]);return u?n.a.createElement("p",{className:"text-white"},"Loading explanations..."):a.length?n.a.createElement("div",{className:"container text-white mt-4 mb-4 p-4 rounded",style:{backgroundColor:"#1a1a1a"}},n.a.createElement("h2",{className:"text-center mb-4",style:{color:"#28a745"}},i," Quiz"),n.a.createElement(j,{quizData:a,userAnswers:l,onRetake:()=>{},navigate:t,readOnly:!0})):n.a.createElement("p",{className:"text-danger"},"No explanations found.")};var L=()=>{const{quizID:e}=Object(c.t)(),t=localStorage.getItem("userID"),[a,o]=Object(r.useState)([]),[l,s]=Object(r.useState)(!0),[i,m]=Object(r.useState)(null),u=Object(c.r)();Object(r.useEffect)(()=>{(async()=>{try{let a;a=e?await I.a.get(`https://quiz-backend-5rjf.onrender.com/api/result/attempts/${t}/${e}`):await I.a.get("https://quiz-backend-5rjf.onrender.com/api/result/attempts/"+t),o(a.data),s(!1)}catch(a){console.error("Error fetching attempts:",a),m("Failed to load attempts."),s(!1)}})()},[e,t]);return l?n.a.createElement("p",{className:"text-white"},"Loading attempts..."):i?n.a.createElement("p",{className:"text-danger"},i):n.a.createElement("div",{className:"container pt-4 pb-4"},n.a.createElement("div",{className:"card text-white rounded-4 shadow-sm p-4",style:{backgroundColor:"#1a1a1a"}},n.a.createElement("h2",{className:"mb-4 text-center",style:{color:"#28a745"}},"Past Attempts"),a.map((e,t)=>n.a.createElement("div",{key:t,className:"d-flex "},n.a.createElement("div",{className:"list-group-item bg- d-flex justify-content-between align-items-center text-white mb-2 rounded flex-grow-1",style:{backgroundColor:"#212529",transition:"background-color 0.3s",cursor:"pointer"},onMouseOver:e=>e.currentTarget.classList.add("bg-primary"),onMouseOut:e=>e.currentTarget.classList.remove("bg-primary")},n.a.createElement("div",{className:"d-flex align-items-center",style:{cursor:"pointer",flexGrow:1},onClick:()=>{return t=e.explanationid,void u("/explanations/"+t);var t}},n.a.createElement("div",{className:"p-2"},n.a.createElement("strong",null,e.title," Quiz - Attempt #",t+1),n.a.createElement("div",null,n.a.createElement("small",null,"Taken on ",new Date(e.createdat).toLocaleString())))),n.a.createElement("div",{className:"d-flex align-items-center me-3"},n.a.createElement("span",{className:"badge bg-primary"},e.score,"/",e.totalquestions," (",Math.round(e.score/e.totalquestions*100),"%)"))),n.a.createElement("div",{className:"d-flex justify-content-center align-items-center rounded",style:{backgroundColor:"#212529",width:"36px",height:"65px",cursor:"pointer",transition:"background-color 0.3s"},onClick:()=>(async(e,t,a)=>{if(window.confirm("Are you sure you want to delete this attempt?")){console.log("Attempt ID: ",e);try{await I.a.delete(`https://quiz-backend-5rjf.onrender.com/api/delete/${e}/${t}/${a}`),o(t=>t.filter(t=>t.attemptID!==e)),window.location.reload()}catch(r){console.error("Failed to delete attempt:",r),alert("Something went wrong.")}}})(e.attemptid,e.explanationid,e.quizid),onMouseOver:e=>e.currentTarget.style.backgroundColor="#dc3545",onMouseOut:e=>e.currentTarget.style.backgroundColor="#212529"},n.a.createElement("i",{className:"bi bi-trash text-white"}))))))};var F=()=>{const{quizID:e}=Object(c.t)(),[t,a]=Object(r.useState)(!0),[o,l]=Object(r.useState)(null),s=Object(c.r)();return Object(r.useEffect)(()=>{(async()=>{try{const t=await I.a.get("https://quiz-backend-5rjf.onrender.com/api/quiz/questions/"+e),r=t.data.title,n=t.data.questions,o=t.data.difficulty;console.log("Topic Quiz: ",r),a(!1),s("/take-quiz",{state:{questions:n,topic:r,difficulty:o,quizID:e}})}catch(t){l("Failed to fetch quiz questions"),a(!1)}})()},[e,s]),t?n.a.createElement("p",null,"Loading..."):o?n.a.createElement("p",{className:"text-danger"},o):null};var W=e=>{let{children:t}=e;return"true"===localStorage.getItem("isLogin")?t:n.a.createElement(c.a,{to:"/login",replace:!0})};var G=function(){return n.a.createElement(s.a,null,n.a.createElement(c.e,null,n.a.createElement(c.c,{path:"/",element:n.a.createElement(k,null)},n.a.createElement(c.c,{index:!0,element:n.a.createElement(m,null)}),n.a.createElement(c.c,{path:"/login",element:n.a.createElement(E,null)}),n.a.createElement(c.c,{path:"/QuizSelection",element:n.a.createElement(i,null)}),n.a.createElement(c.c,{path:"/signup",element:n.a.createElement(f,null)}),n.a.createElement(c.c,{path:"/take-quiz",element:n.a.createElement(O,null)}),n.a.createElement(c.c,{path:"/quiz-generator/:type",element:n.a.createElement(D,null)}),n.a.createElement(c.c,{path:"/profile",element:n.a.createElement(W,null," ",n.a.createElement(C,null)," ")}),n.a.createElement(c.c,{path:"/my-quizzes",element:n.a.createElement(W,null," ",n.a.createElement(A,null)," ")}),n.a.createElement(c.c,{path:"/attempts/:quizID",element:n.a.createElement(W,null," ",n.a.createElement(L,null)," ")}),n.a.createElement(c.c,{path:"/attempts",element:n.a.createElement(W,null," ",n.a.createElement(L,null)," ")}),n.a.createElement(c.c,{path:"/retake-quiz/:quizID",element:n.a.createElement(W,null," ",n.a.createElement(F,null)," ")}),n.a.createElement(c.c,{path:"/explanations/:explanationID",element:n.a.createElement(Q,null)}))))};var M=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,60)).then(t=>{let{getCLS:a,getFID:r,getFCP:n,getLCP:o,getTTFB:l}=t;a(e),r(e),n(e),o(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(n.a.createElement(u.b,{clientId:"78227557484-bm7hj2o4sfg1t0groa7n5eqkik0c7101.apps.googleusercontent.com"},n.a.createElement(n.a.StrictMode,null,n.a.createElement(G,null)))),M()}},[[32,1,2]]]);
//# sourceMappingURL=main.f2c87891.chunk.js.map